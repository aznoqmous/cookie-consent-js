!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e){e.exports=JSON.parse('{"functionnal":{"type":"functionnal","mandatory":true},"google":{"type":"statistic","scripts":["google","gtag"],"cookies":["^__utm","^_ga","^_gid"]},"googletagmanager":{"type":"api","scripts":["googletagmanager"],"cookies":["^_gcl_au","^_gat_"]},"facebook":{"type":"statistic","scripts":["fbq","facebook"],"cookies":["^_fb","^datr","^fr","^reg_ext_ref","^reg_fb_gate","^reg_fb_ref","^sb","^wd","^x-src"]},"youtube":{"type":"video","iframes":["youtube.com"]},"vimeo":{"type":"video","iframes":["vimeo.com"]}}')},function(e,t){e.exports='<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 33.9 34" style="enable-background:new 0 0 33.9 34;" xml:space="preserve"><path d="M28.6,15.1v-0.4c0-0.8-0.1-1.5-0.2-2.3C28,11.6,27,11.6,27,11.6h-3.1V10c0-1.5-1.5-1.5-1.5-1.5h-3.1V7 c0-1.5-1.5-1.5-1.5-1.5h-1.5V2.3c0-1.5-1.5-1.5-1.5-1.5c-3.7,0-7.2,1.5-9.9,4.1C2.2,7.5,0.7,11,0.7,14.7c0,3.7,1.5,7.2,4.1,9.8 c2.6,2.6,6.2,4.1,9.9,4.1h0.4c-0.3-1-0.4-2-0.4-3.1v-0.6c-0.4,0.4-0.9,0.6-1.5,0.6c-1.3,0-2.3-1-2.3-2.3c0-1.3,1-2.3,2.3-2.3 c0.9,0,1.7,0.5,2.1,1.3c0.7-2.2,2.1-4.1,3.9-5.4c1.9-1.3,4.1-2.1,6.4-2.1C26.5,14.7,27.6,14.9,28.6,15.1z M6.1,16.2 c-1.3,0-2.3-1-2.3-2.3s1-2.3,2.3-2.3s2.3,1,2.3,2.3S7.4,16.2,6.1,16.2z M10.8,10c-1.3,0-2.3-1-2.3-2.3c0-1.3,1-2.3,2.3-2.3 c1.3,0,2.3,1,2.3,2.3C13.1,9,12,10,10.8,10z M13.9,17.8c-1.3,0-2.3-1-2.3-2.3c0-1.3,1-2.3,2.3-2.3s2.3,1,2.3,2.3 C16.2,16.7,15.1,17.8,13.9,17.8z M31.2,26.4v-1.5l1.7-1.2c0.2-0.2,0.3-0.3,0.2-0.5l-1.5-2.6c0-0.2-0.3-0.2-0.5-0.2l-1.9,0.8 c-0.5-0.3-0.9-0.6-1.4-0.8l-0.3-2c0-0.2-0.2-0.3-0.3-0.3h-3.1c-0.3,0-0.5,0.2-0.5,0.3l-0.3,2c-0.5,0.3-0.8,0.5-1.2,0.8l-1.9-0.8 c-0.2,0-0.3,0-0.5,0.2l-1.5,2.6c0,0.2,0,0.3,0.2,0.5l1.7,1.2v1.5l-1.7,1.2c-0.2,0.2-0.3,0.3-0.2,0.5l1.5,2.6 c0.2,0.2,0.3,0.2,0.5,0.2l1.9-0.8c0.3,0.3,0.8,0.6,1.2,0.8l0.3,2c0.2,0.2,0.3,0.3,0.5,0.3h3.1c0.2,0,0.3-0.2,0.3-0.3l0.3-2 c0.5-0.3,0.8-0.5,1.2-0.8l1.9,0.6c0.2,0,0.3,0,0.5-0.2l1.5-2.6c0.2-0.2,0.2-0.3,0-0.3L31.2,26.4z M25.5,27.8c-1.2,0-2.3-1.1-2.3-2.3 s1.1-2.3,2.3-2.3c1.2,0,2.3,1.1,2.3,2.3S26.7,27.8,25.5,27.8z"></path></svg>'},function(e,t,n){(t=n(6)(!1)).push([e.i,".cookie-consent-popup,.cookie-consent-popup-details{font-size:1rem;z-index:1000000000;font-family:sans-serif}.cookie-consent-popup button,.cookie-consent-popup-details button{padding:.4rem .6rem;cursor:pointer;border:2px solid #fff;color:#474747;background:#fff;transition:all .1s ease-out;border-radius:.2rem;font-weight:bold;cursor:unset}.cookie-consent-popup button:hover:not(:disabled):not(.active),.cookie-consent-popup-details button:hover:not(:disabled):not(.active){cursor:pointer;background:#474747;color:#fff}.cookie-consent-popup button.allow,.cookie-consent-popup-details button.allow{border:2px solid #28a745;color:#fff;background:#28a745;transition:all .1s ease-out;border-radius:.2rem;font-weight:bold;cursor:unset}.cookie-consent-popup button.allow:hover:not(:disabled):not(.active),.cookie-consent-popup-details button.allow:hover:not(:disabled):not(.active){cursor:pointer;background:#fff;color:#28a745}.cookie-consent-popup button.disallow,.cookie-consent-popup-details button.disallow{border:2px solid #dc3545;color:#fff;background:#dc3545;transition:all .1s ease-out;border-radius:.2rem;font-weight:bold;cursor:unset}.cookie-consent-popup button.disallow:hover:not(:disabled):not(.active),.cookie-consent-popup-details button.disallow:hover:not(:disabled):not(.active){cursor:pointer;background:#fff;color:#dc3545}.cookie-consent-popup .buttons,.cookie-consent-popup-details .buttons{display:flex;margin:.2rem 0}.cookie-consent-popup .buttons>*:not(:first-child),.cookie-consent-popup-details .buttons>*:not(:first-child){margin-left:.5rem}.cookie-consent-popup{position:fixed;left:0;bottom:0;padding:1rem;display:flex;flex-direction:column}.cookie-consent-popup>.disclaimer,.cookie-consent-popup>.buttons{margin-bottom:.5rem}.cookie-consent-popup figure{height:1.5rem;width:1.5rem;position:relative;overflow:hidden;margin:0;cursor:pointer;user-select:none}.cookie-consent-popup:not(.active)>div,.cookie-consent-popup:not(.active)>a{display:none}.cookie-consent-popup.active{background-color:#fff;border-radius:.2rem;box-shadow:0 0 10px rgba(0,0,0,.5)}.cookie-consent-popup.active>div,.cookie-consent-popup.active>a{display:flex}.cookie-consent-popup.active>a{font-size:.8rem}.cookie-consent-popup.active figure{display:none}.cookie-consent-popup-details{position:fixed;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,.5);display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;pointer-events:none}.cookie-consent-popup-details.active{opacity:1;pointer-events:all}.cookie-consent-popup-details form{border-radius:.2rem;box-shadow:0 0 10px rgba(0,0,0,.5);padding:1rem;background-color:#fff;max-width:40rem;display:flex;flex-direction:column;align-items:center;max-height:calc(100vh - 4rem);overflow-y:scroll}@media(max-width: 720px){.cookie-consent-popup-details form{max-width:calc(100vw - 4rem)}}.cookie-consent-popup-details form>strong,.cookie-consent-popup-details form>.disclaimer,.cookie-consent-popup-details form>.buttons,.cookie-consent-popup-details form>a{text-align:center;margin-bottom:1rem}.cookie-consent-popup-details form>a{margin-top:1rem;font-size:.8rem}.cookie-consent-popup-details form .services{display:flex;flex-direction:column;width:100%;text-align:left}.cookie-consent-popup-details form .services .type{margin-top:1rem;background:#474747;color:#fff;padding:.4rem .8rem}.cookie-consent-popup-details form .services .service{display:flex;justify-content:space-between;padding:.5rem .8rem;background:#eee}@media(max-width: 720px){.cookie-consent-popup-details form .services .service{flex-direction:column}.cookie-consent-popup-details form .services .service>.buttons{margin-top:.5rem}}.cookie-consent-popup-details form .services .service .details{display:flex;flex-direction:column}.cookie-consent-popup-details form .services .service button{width:5rem}.cookie-consent-popup-details form .services .service button:disabled,.cookie-consent-popup-details form .services .service button:not(.active):not(:hover){opacity:.2}.cookie-consent-popup-details form .services .service button.active:not(:disabled){opacity:1}iframe.cookie-consent-blocked{display:none}figure.cookie-consent-iframe{display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:sans-serif;background:#474747;color:#fff}figure.cookie-consent-iframe>button{margin-top:1rem;cursor:pointer}",""]),e.exports=t},function(e,t,n){var o={"./en.json":4,"./fr.json":5};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=3},function(e){e.exports=JSON.parse('{"cookies":"cookies","accept":"Accept","deny":"Deny","acceptAll":"Accept all","denyAll":"Deny all","customize":"Customize"}')},function(e){e.exports=JSON.parse('{"cookies":"cookies","accept":"Accepter","deny":"Refuser","allow":"Autoriser","disallow":"Interdire","allowAll":"Autoriser tout","disallowAll":"Interdire tout","acceptAll":"Accepter tout","denyAll":"Refuser tout","customize":"Personnaliser","popupTitle":"","popupDisclaimer":"Ce site utilise des cookies et vous donne le contrôle sur ceux que vous souhaitez activer","legalNotice":"Politique de confidentialité","popupDetailsTitle":"Panneau de gestion des cookies","popupDetailsDisclaimer":"En autorisant ces services tiers, vous acceptez le dépôt et la lecture de cookies et l\'utilisation de technologies de suivi nécessaires à leur bon fonctionnement.","iframeBlocked":"%s est désactivé.","functionnal":{"name":"Cookies fonctionnels","description":"Ce site utilise des cookies nécessaires à son bon fonctionnement.<br>Ils ne peuvent pas être désactivés."},"google":{"name":"Google Analytics","description":"Ces cookies servent à générer des statistiques de fréquentation du site."},"googletagmanager":{"name":"Google Tag Manager","description":"Ces cookies servent à générer des statistiques sur l\'utilisation du site."},"facebook":{"name":"Facebook Pixel","description":"Ces cookies permettent de faciliter le partage de contenu sur les réseaux sociaux."},"youtube":{"name":"Youtube","description":"Ces cookies sont utilisés par YouTube pour permettre à l\'utilisateur de visualiser directement sur le site le contenu multimédia."},"vimeo":{"name":"Vimeo","description":"Ces cookies sont utilisés par Vimeo pour permettre à l\'utilisateur de visualiser directement sur le site le contenu multimédia."},"types":{"functionnal":"Cookies obligatoires","api":"APIs","statistic":"Mesure d\'audience","marketing":"Publicitaires","video":"Vidéos"}}')},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=(r=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),a=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}var r,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(o)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(i[r]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";n.r(t);var o=n(0);function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getAll",value:function(){var e=document.cookie;if(!e)return{};var t={};return e.split(";").map((function(e){var n=e.split("="),o=n[0].trim().replace(/"/g,""),i=n[1];return t[o]=i})),t}},{key:"get",value:function(t){var n=e.getAll()[t];return n?JSON.parse(n):null}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:864e12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="".concat(e,"=").concat(JSON.stringify(t),";expires=").concat(new Date(n).toUTCString());o&&(i+=";path=".concat(o)),document.cookie=i}},{key:"remove",value:function(e){document.cookie=e+'="cookie_consent_js"; expires=Thu, 01 Jan 2000 00:00:00 GMT; path=/;',document.cookie=e+'="cookie_consent_js"; expires=Thu, 01 Jan 2000 00:00:00 GMT; path=/; domain=.'+location.hostname+";",document.cookie=e+'="cookie_consent_js"; expires=Thu, 01 Jan 2000 00:00:00 GMT; path=/; domain=.'+location.hostname.split(".").slice(-2).join(".")+";"}}],(n=null)&&i(t.prototype,n),o&&i(t,o),e}();function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"DOMLoaded",value:function(){return new Promise((function(e){document.body?e():document.addEventListener("DOMContentLoaded",(function(){e()}))}))}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,i;return t=e,i=[{key:"defaultLang",get:function(){return"en"}},{key:"init",value:function(){var t=n(3),o={};t.keys().forEach((function(e){var n=e.replace(/\.json/,"").replace("./","");o[n]=t(e)})),e.translations=o[e.getLocale()]||{},e.defaultTranslations=o[e.defaultLang],e.translations=Object.assign(e.defaultTranslations,e.translations)}},{key:"defaultTranslations",get:function(){return window._frontendedit_default_lang},set:function(e){window._frontendedit_default_lang=e}},{key:"translations",get:function(){return window._frontendedit_lang},set:function(e){window._frontendedit_lang=e}},{key:"getLocale",value:function(){return navigator.language.replace(/-.*?$/,"")}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?e.translations[t]?e.translations[t]:e.defaultTranslations[t]:e.translations}}],(o=null)&&c(t.prototype,o),i&&c(t,i),e}();l.init();var u=n(1),p=n.n(u);function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config={services:Object.keys(o).filter((function(e){return"functionnal"!=e})),title:l.get("popupTitle"),disclaimer:l.get("popupDisclaimer"),legalNoticeText:l.get("legalNotice"),legalNoticeUrl:"/mentions-legales",popupDetailsTitle:l.get("popupDetailsTitle"),popupDetailsDisclaimer:l.get("popupDetailsDisclaimer"),cookieColor:"black"},this.defaultServices=Object.fromEntries(this.config.services.map((function(e){return[e,!1]}))),this.defaultServices.functionnal=!0,this.getBannedScriptRules(),this.getBannedCookieRules(),this.getBannedIframeRules(),this.observe(),this.overrideCookieSetter()}var t,n,i;return t=e,i=[{key:"key",get:function(){return"cookie_consent"}}],(n=[{key:"init",value:function(e){var t=this;this.config=Object.assign(this.config,e),s.DOMLoaded().then((function(){t.buildPopup()})),this.deleteBannedCookies()}},{key:"getData",value:function(){return Object.assign(this.defaultServices,JSON.parse(a.get(e.key)))}},{key:"saveData",value:function(t){a.set(e.key,JSON.stringify(t))}},{key:"isDataSet",value:function(){return!!a.get(e.key)}},{key:"enabledServices",get:function(){return["functionnal"].concat(d(this.config.services))}},{key:"allowedRules",get:function(){var e=this.getData();return Object.fromEntries(Object.keys(o).filter((function(t){return!e||void 0===e[t]||"true"==e[t]})).map((function(e){return[e,o[e]]})))}},{key:"disallowedRules",get:function(){var e=this.getData();return Object.fromEntries(Object.keys(o).filter((function(t){return e&&void 0!==e[t]&&"true"!=e[t]})).map((function(e){return[e,o[e]]})))}},{key:"buildPopup",value:function(){var e=this;this.popup=this.create(document.body,{className:"cookie-consent-popup"},"div"),this.isDataSet()||this.popup.classList.add("active");var t=this.create(this.popup,{},"figure"),n=(this.create(t,{innerHTML:p.a,style:"fill: ".concat(this.config.cookieColor)},"figure"),this.create(this.popup,{innerHTML:this.config.title}),this.create(this.popup,{innerHTML:this.config.disclaimer,className:"disclaimer"}),this.create(this.popup,{className:"buttons"})),o=this.create(n,{innerHTML:l.get("allowAll"),className:"allow"},"button"),i=this.create(n,{innerHTML:l.get("disallowAll"),className:"disallow"},"button"),a=this.create(n,{innerHTML:l.get("customize")},"button");o.addEventListener("click",(function(){e.acceptAll()})),i.addEventListener("click",(function(){e.denyAll()})),t.addEventListener("click",(function(){e.setPopupDetailsActive()})),a.addEventListener("click",(function(){e.setPopupDetailsActive()})),this.create(this.popup,{innerHTML:this.config.legalNoticeText,href:this.config.legalNoticeUrl},"a"),this.buildDetailsPopup()}},{key:"buildDetailsPopup",value:function(){var e=this;this.popupDetailsContainer=this.create(document.body,{className:"cookie-consent-popup-details"},"div"),this.popupDetails=this.create(this.popupDetailsContainer,{},"form"),this.popupDetails.addEventListener("submit",(function(e){e.preventDefault()})),this.create(this.popupDetails,{innerHTML:this.config.popupDetailsTitle},"strong"),this.create(this.popupDetails,{innerHTML:this.config.popupDetailsDisclaimer,className:"disclaimer"});var t=this.create(this.popupDetails,{className:"buttons"}),n=this.create(t,{innerHTML:l.get("allowAll"),className:"allow"},"button"),i=this.create(t,{innerHTML:l.get("disallowAll"),className:"disallow"},"button");n.addEventListener("click",(function(){e.acceptAll()})),i.addEventListener("click",(function(){e.denyAll()}));var a=this.create(this.popupDetails,{className:"services"});this.addedTypes={},Object.keys(o).filter((function(t){return e.enabledServices.includes(t)})).map((function(t){return e.addedTypes[o[t].type]=!1})),this.enabledServices.sort((function(e,t){return"functionnal"==o[e].type?-1:"functionnal"==o[t].type||o[e].type>o[t].type?1:-1})).map((function(t){e.addService(t,a)})),this.updatePopupDetails(),this.create(this.popupDetails,{innerHTML:this.config.legalNoticeText,href:this.config.legalNoticeUrl},"a")}},{key:"addService",value:function(e,t){var n=this,i=this.getData(),a=l.get(e),r=o[e].type;this.addedTypes[r]||(this.create(t,{innerHTML:l.get("types")[r],className:"type"},"small"),this.addedTypes[r]=!0);var s=this.create(t,{className:"service"}),c=this.create(s,{className:"details"});this.create(c,{innerHTML:a.name},"strong"),this.create(c,{innerHTML:a.description},"small");var u=this.create(s,{name:e,value:i[e],required:o[e].mandatory,type:"hidden"},"input"),p=this.create(s,{className:"buttons"});this.create(p,{innerHTML:l.get("allow"),disabled:o[e].mandatory,className:"allow"},"button").addEventListener("click",(function(){u.value=!0,n.savePopupDetailsData(),n.updatePopupDetails()})),o[e].mandatory||this.create(p,{innerHTML:l.get("disallow"),className:"disallow"},"button").addEventListener("click",(function(){u.value=!1,n.savePopupDetailsData(),n.updatePopupDetails()}))}},{key:"accept",value:function(e){var t=this.popupDetails.querySelector('.service input[name="'.concat(e,'"]'));t.value=!0,t.parentElement.querySelector(".allow").classList.add("active"),t.parentElement.querySelector(".disallow").classList.remove("active"),this.updatePopupDetails(),this.savePopupDetailsData()}},{key:"deny",value:function(e){this.popupDetails.querySelector('.service input[name="'.concat(e,'"]')).value=!1,this.updatePopupDetails(),this.savePopupDetailsData()}},{key:"acceptAll",value:function(){d(this.popupDetails.querySelectorAll('.service input[type="hidden"]')).map((function(e){return e.value=!0})),this.updatePopupDetails(),this.savePopupDetailsData(),this.popup.classList.remove("active")}},{key:"denyAll",value:function(){d(this.popupDetails.querySelectorAll('.service input[type="hidden"]:not([required])')).map((function(e){return e.value=!1})),this.updatePopupDetails(),this.savePopupDetailsData(),this.popup.classList.remove("active")}},{key:"updatePopupDetails",value:function(){d(this.popupDetails.querySelectorAll(".service")).map((function(e){var t="true"==e.querySelector('input[type="hidden"]').value,n=e.querySelector(".allow"),o=e.querySelector(".disallow");t?(n.classList.add("active"),o&&o.classList.remove("active")):(n.classList.remove("active"),o&&o.classList.add("active"))}))}},{key:"savePopupDetailsData",value:function(){var e=this.getPopupDetailsData();this.saveData(e),this.getBannedCookieRules(),this.deleteBannedCookies()}},{key:"getPopupDetailsData",value:function(){var e=new FormData(this.popupDetails);return Object.fromEntries(d(e.entries()).map((function(e){return[e[0],e[1]]})))}},{key:"setPopupDetailsActive",value:function(){var e=this;this.popupDetailsContainer.classList.add("active");var t=function t(n){e.popupDetails.contains(n.target)||(e.popupDetailsContainer.classList.remove("active"),document.removeEventListener("click",t))};setTimeout((function(){document.addEventListener("click",t)}))}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div",o=document.createElement(n);for(var i in t)o[i]=t[i];return e.appendChild(o),o}},{key:"getBannedScriptRules",value:function(){var e=this;this.bannedScriptRules=[],Object.values(this.disallowedRules).filter((function(e){return e.scripts})).map((function(t){var n;return(n=e.bannedScriptRules).push.apply(n,d(t.scripts))})),console.log(this.bannedScriptRules)}},{key:"isScriptBanned",value:function(e){return this.bannedScriptRules.some((function(t){return e.src&&e.src.match(t)||!e.innerHTML.match("CookieConsent")&&e.innerHTML.match(t)}))}},{key:"getBannedCookieRules",value:function(){var e=this;this.bannedCookieRules=[],Object.values(this.disallowedRules).filter((function(e){return e.cookies})).map((function(t){var n;return(n=e.bannedCookieRules).push.apply(n,d(t.cookies))}))}},{key:"deleteBannedCookies",value:function(){var e=this;Object.keys(a.getAll()).filter((function(t){return e.bannedCookieRules.some((function(e){return t.match(e)}))})).map((function(e){return a.remove(e,"/")}))}},{key:"getBannedIframeRules",value:function(){var e=this;this.bannedIframeRules=[],Object.values(this.disallowedRules).filter((function(e){return e.iframes})).map((function(t){var n;return(n=e.bannedIframeRules).push.apply(n,d(t.iframes))}))}},{key:"isIframeBanned",value:function(e){return this.bannedIframeRules.some((function(t){return e.src&&e.src.match(t)}))}},{key:"iframeBannedBy",value:function(e){var t=this,n=this.bannedIframeRules.filter((function(t){return e.src.match(new RegExp(t))}));if(!n.length)return!1;var i=n[0],a=Object.keys(o).filter((function(e){return t.enabledServices.includes(e)})).filter((function(e){return o[e].iframes})).filter((function(e){return o[e].iframes&&o[e].iframes.includes(i)}));return!!a.length&&a[0]}},{key:"disableIframe",value:function(e){var t=this;if(!e.src)return null;var n=this.iframeBannedBy(e);e.setAttribute("data-src",e.src),e.removeAttribute("src"),e.disabled=!0,e.classList.add("cookie-consent-blocked");var o=window.getComputedStyle(e),i=this.create(e.parentElement,{className:"cookie-consent-iframe",style:"width: ".concat(o.width,"; height: ").concat(o.height)},"figure");this.create(i,{innerHTML:l.get("iframeBlocked").replace("%s",l.get(n).name)}),this.create(i,{innerHTML:l.get("allow")},"button").addEventListener("click",(function(){t.accept(n),window.location.reload()})),e.parentElement.insertBefore(i,e),e.parentElement.insertBefore(e,i)}},{key:"observe",value:function(){var e=this;new MutationObserver((function(t){d(t).map((function(t){d(t.addedNodes).filter((function(t){return"SCRIPT"==t.tagName&&e.isScriptBanned(t)})).map((function(e){return e.type="javascript/blocked"})),d(t.addedNodes).filter((function(t){return"IFRAME"==t.tagName&&e.isIframeBanned(t)})).map((function(t){return e.disableIframe(t)}))}))})).observe(document.head,{attributes:!0,childList:!0,subtree:!0}),document.addEventListener("DOMContentLoaded",(function(){d(document.querySelectorAll("iframe")).filter((function(t){return e.isIframeBanned(t)})).map((function(t){return e.disableIframe(t)}))}))}},{key:"overrideCookieSetter",value:function(){var e=document.__lookupSetter__("cookie"),t=document.__lookupGetter__("cookie"),n=this;this.getBannedCookieRules(),Object.defineProperty(document,"cookie",{set:function(t){if(t.match(/cookie_consent_js/)||!n.bannedCookieRules.some((function(e){return t.match(e)})))return e.apply(document,arguments)},get:function(){return t.apply(document)},configurable:!0})}}])&&m(t.prototype,n),i&&m(t,i),e}(),h=n(2),g=n.n(h),k=document.createElement("style");k.innerHTML=g.a.toString(),document.head.appendChild(k),window.CookieConsent=new v}]);